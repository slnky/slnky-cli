require 'spec_helper'

describe Slnky::<%= cap %>::Command do
  subject do
    s = described_class.new("http://localhost:3000", test_config)
    s.client = Slnky::<%= cap %>::Mock.new(test_config)
    s
  end
  let(:echo) { command('echo').payload }
  let(:response) { Slnky::Command::Response.new() }

  it 'handles echo' do
    resp = response
    expect(subject.echo(echo, resp)).not_to raise_error
    expect(resp.output).to eq("test echo")
  end
end
